# GPS Monitoring & AI Assistant App – Project Requirements

## Functional Requirements

| Requirement ID | Description                      | User Story                                                                                   | Expected Behavior/Outcome                                                                                                    |
| -------------- | -------------------------------- | -------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| FR001          | Parsing GPS `.dat` Files         | As a user, I want the app to read and parse incoming `.dat` files so it can extract GPS info | The system reads a local folder every 30s, skips headers, and extracts data lines.                                           |
| FR002          | Converting Coordinates           | As a user, I want latitude and longitude in decimal degrees                                  | Degrees and minutes are combined into decimal degrees before saving to the DB.                                               |
| FR003          | Writing Data to Database         | As a user, I want parsed GPS records stored reliably in a database                           | Each record is saved to `ExcavatorPosition` with timestamp, coordinates, and metadata.                                       |
| FR004          | Dynamic Data Folder Support      | As a user, I want flexibility in where GPS data comes from                                   | The input folder path is configurable for local or network use via Django settings.                                          |
| FR005          | Scheduled Background Parsing     | As a user, I want parsing to happen automatically every 30s                                  | A Celery periodic task triggers the parser on schedule to handle new data.                                                   |
| FR006          | Real-Time Map View               | As a user, I want to see excavator positions live on a custom map                            | Frontend displays last known location of each excavator using MapLibre and React.                                            |
| FR007          | Dynamic Excavator Points         | As a user, I want the map to update with new positions                                       | Excavator locations update based on data from a backend API or WebSocket.                                                    |
| FR008          | Historical Movement Tracking     | As a user, I want to view past movement of each excavator on the map                         | Map shows trails or paths per machine using stored GPS records.                                                              |
| FR009          | AI Agent for Location Queries    | As a user, I want to ask natural language questions like “Where is X now?”                   | The OpenAI agent responds with location data by querying the database.                                                       |
| FR010          | Agent Summary Generation         | As a user, I want the agent to summarize daily activity                                      | The agent can summarize movement, idle time, or distance traveled for a day.                                                 |
| FR011          | Admin Dashboard View             | As a user, I want a central place to monitor all activity                                    | Basic React dashboard shows map, excavators, latest data timestamps, and agent input box.                                    |
| FR012          | Agent Reads Project Requirements | As a user, I want the agent to understand the project by reading a requirements file         | The `requirements.md` file should contain structured functional requirements that the agent uses to plan and build features. |
| FR013          | Celery Task: Check `.dat` Folder | As a user, I want a background task that looks for new GPS data files                        | Celery task scans the configured folder every 30s for new `.dat` files to parse.                                             |
| FR014          | Celery Task: Parse and Convert   | As a user, I want GPS files to be parsed and converted by a worker process                   | Task reads file, skips headers, parses lines, and converts coordinates to decimal format.                                    |
| FR015          | Celery Task: Save to Database    | As a user, I want parsed records written into the system database                            | Parsed records are validated and saved to the `ExcavatorPosition` model in PostgreSQL.                                       |
| FR016          | Celery Integration with Django   | As a user, I want background tasks to run within the Django infrastructure                   | Celery is integrated into Django and uses `celery-beat` for scheduled task execution.                                        |
